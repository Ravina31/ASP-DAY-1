@{
    ViewBag.Title = "Home Page";
}


@Scripts.Render("~/js")
@Styles.Render("~/css")

<div ng-app="myApp" ng-controller="studentController" class="container">
    <h1>AngularJs Inline Editing With Web Api</h1>
    <div class="row">
        <div class="col-md-12">
            <strong class="error">{{ error }}</strong>
            <p ng-hide="addMode"><a ng-click="toggleAdd()" href="javascript:;" class="">Add Student</a></p>
            <form name="addStudent" ng-show="addMode" style="width:600px;margin:0px auto;">
                <div class="form-group">
                    <label for="name" class="col-sm-2 control-label">Name:</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="name" placeholder="Please enter name" ng-model="newstudent.Name" required />
                    </div>
                </div>
                <div class="form-group">
                    <label for="address" class="col-sm-2 control-label">Address:</label>
                    <div class="col-sm-10">
                        <textarea class="form-control" id="address" placeholder="Please enter address" ng-model="newstudent.Address" required></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <label for="email" class="col-sm-2 control-label">Email:</label>
                    <div class="col-sm-10">
                        <input type="email" class="form-control" id="email" placeholder="Please enter email" ng-model="newstudent.Email" required />
                    </div>
                </div>
                <div class="form-group">
                    <label for="country" class="col-sm-2 control-label">Country:</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="country" placeholder="Please enter country" ng-model="newstudent.Country" required />
                    </div>
                </div>
                <div class="form-group">
                    <label for="city" class="col-sm-2 control-label">City:</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="city" placeholder="Please enter city" ng-model="newstudent.City" required />
                    </div>
                </div>
                <div class="form-group">
                    <label for="mobile" class="col-sm-2 control-label">Mobile:</label>
                    <div class="col-sm-10">
                        <input type="tel" class="form-control" id="mobile" placeholder="Please enter mobile" ng-model="newstudent.Mobile" required />
                    </div>
                </div>
                <br />
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <input type="submit" value="Add" ng-click="add()" ng-disabled="!addStudent.$valid" class="btn" />
                        <input type="button" value="Cancel" ng-click="toggleAdd()" class="btn" />
                    </div>
                </div>
                <br />
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="table-responsive">
                <table class="table table-bordered table-hover">
                    <tr>
                        <th>Name</th>
                        <th>Address</th>
                        <th>Email</th>
                        <th>Country</th>
                        <th>City</th>
                        <th>Mobile</th>
                        <th>Actions</th>
                    </tr>
                    <tr ng-repeat="student in students">
                        <td>
                            <p ng-hide="student.editMode">{{ student.Name }}</p>
                            <input ng-show="student.editMode" type="text" ng-model="student.Name" />
                        </td>
                        <td>
                            <p ng-hide="student.editMode">{{ student.Address }}</p>
                            <input ng-show="student.editMode" type="text" ng-model="student.Address" />
                        </td>
                        <td>
                            <p ng-hide="student.editMode">{{ student.Email }}</p>
                            <input ng-show="student.editMode" type="text" ng-model="student.Email" />
                        </td>
                        <td>
                            <p ng-hide="student.editMode">{{ student.Country }}</p>
                            <input ng-show="student.editMode" type="text" ng-model="student.Country" />
                        </td>
                        <td>
                            <p ng-hide="student.editMode">{{ student.City }}</p>
                            <input ng-show="student.editMode" type="text" ng-model="student.City" />
                        </td>
                        <td>
                            <p ng-hide="student.editMode">{{ student.Mobile }}</p>
                            <input ng-show="student.editMode" type="text" ng-model="student.Mobile" />
                        </td>
                        <td>
                            <p ng-hide="student.editMode"><a ng-click="toggleEdit(student)" href="javascript:;">Edit</a> | <a  ng-confirm-click="Are you sure?" ng-click="deletestudent(student)" href="javascript:;">Delete</a></p>
                            <p ng-show="student.editMode"><a ng-click="save(student)" href="javascript:;">Save</a> | <a ng-click="toggleEdit(student)" href="javascript:;">Cancel</a></p>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <div id="loader" ng-show="loading">
        <img src="/images/loader.gif" class="loader" />
    </div>
</div>
